<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TitanMail | Premium Temporary Mail Service</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #0f172a; color: #f1f5f9; }
        .glass { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .gradient-text { background: linear-gradient(90deg, #38bdf8, #818cf8); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .tier-card:hover { transform: translateY(-5px); transition: all 0.3s ease; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #1e293b; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 10px; }
        
        /* Modal Animation */
        .modal-enter { opacity: 0; transform: scale(0.95); }
        .modal-active { opacity: 1; transform: scale(1); transition: all 0.2s ease-out; }
    </style>
</head>
<body class="min-h-screen overflow-x-hidden">

    <!-- Redirect Modal -->
    <div id="redirect-modal" class="fixed inset-0 z-[100] hidden items-center justify-center p-6 bg-slate-950/80 backdrop-blur-sm">
        <div class="glass max-w-sm w-full p-8 rounded-3xl shadow-2xl text-center border border-white/10">
            <div class="w-16 h-16 bg-[#5865F2]/20 text-[#5865F2] rounded-2xl flex items-center justify-center mx-auto mb-6 text-3xl">
                <i class="fab fa-discord"></i>
            </div>
            <h3 class="text-xl font-bold mb-2">Redirecting to Discord</h3>
            <p class="text-slate-400 text-sm mb-8 leading-relaxed">You are about to be redirected to our community server to complete your purchase or get support.</p>
            <div class="flex flex-col gap-3">
                <a href="https://discord.gg/5ZDX8dp7" target="_blank" onclick="closeModal()" class="w-full py-3 bg-[#5865F2] hover:bg-[#4752c4] rounded-xl font-bold transition">Proceed to Discord</a>
                <button onclick="closeModal()" class="w-full py-3 text-slate-400 hover:text-white transition text-sm">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="fixed w-full z-50 glass py-4 px-6 md:px-12 flex justify-between items-center">
        <div class="flex items-center space-x-2">
            <div class="bg-sky-500 p-2 rounded-lg">
                <i class="fas fa-envelope-open-text text-white text-xl"></i>
            </div>
            <span class="text-2xl font-bold tracking-tight">Titan<span class="text-sky-400">Mail</span></span>
        </div>
        <div class="hidden md:flex space-x-8 font-medium text-slate-300">
            <a href="#home" class="hover:text-sky-400 transition">Home</a>
            <a href="#pricing" class="hover:text-sky-400 transition">Pricing</a>
            <a href="#updates" class="hover:text-sky-400 transition">Updates</a>
            <button onclick="openModal()" class="hover:text-sky-400 transition">Discord</button>
        </div>
        <button onclick="document.getElementById('pricing').scrollIntoView({behavior: 'smooth'})" class="bg-sky-500 hover:bg-sky-600 px-5 py-2 rounded-full font-semibold transition text-sm">Get Premium</button>
    </nav>

    <!-- Hero Section / Mail Interface -->
    <section id="home" class="pt-32 pb-20 px-6 max-w-6xl mx-auto text-center">
        <h1 class="text-4xl md:text-6xl font-extrabold mb-6">Disposable Mail, <br><span class="gradient-text">Titan Performance.</span></h1>
        <p class="text-slate-400 text-lg mb-12 max-w-2xl mx-auto">Fast, secure, and anonymous temporary email service powered by Mail.gw. Protect your privacy from spam and trackers.</p>

        <!-- Mail App Box -->
        <div class="glass rounded-3xl p-6 md:p-10 shadow-2xl relative overflow-hidden">
            <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-sky-500 to-indigo-500"></div>
            
            <div class="flex flex-col md:flex-row gap-4 mb-8">
                <div class="flex-grow relative">
                    <input id="email-display" type="text" readonly value="Generating address..." 
                        class="w-full bg-slate-900 border border-slate-700 rounded-xl py-4 px-5 text-sky-400 font-mono text-lg focus:outline-none">
                    <button onclick="copyEmail()" class="absolute right-3 top-3 bg-slate-800 hover:bg-slate-700 p-2 rounded-lg text-slate-300 transition">
                        <i class="far fa-copy"></i>
                    </button>
                </div>
                <button onclick="generateNewEmail()" class="bg-white text-slate-900 font-bold px-8 py-4 rounded-xl hover:bg-slate-200 transition flex items-center justify-center">
                    <i class="fas fa-sync-alt mr-2"></i> Refresh
                </button>
            </div>

            <!-- Inbox -->
            <div class="bg-slate-900/50 rounded-2xl border border-slate-800 min-h-[300px] text-left">
                <div class="p-4 border-b border-slate-800 flex justify-between items-center">
                    <h3 class="font-semibold text-slate-400 uppercase text-xs tracking-widest">Inbox</h3>
                    <span id="status-tag" class="text-[10px] bg-emerald-500/10 text-emerald-500 px-2 py-1 rounded-full uppercase font-bold">Live Monitoring</span>
                </div>
                <div id="messages-list" class="divide-y divide-slate-800">
                    <div class="p-8 text-center text-slate-500">
                        <i class="fas fa-inbox text-4xl mb-3 opacity-20"></i>
                        <p>Waiting for incoming emails...</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Pricing Tiers -->
    <section id="pricing" class="py-20 bg-slate-900/50">
        <div class="max-w-6xl mx-auto px-6">
            <div class="text-center mb-16">
                <h2 class="text-3xl md:text-4xl font-bold mb-4">Choose Your <span class="text-sky-400">Power</span></h2>
                <p class="text-slate-400">Unlock advanced features for the price of a coffee.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                <!-- Tier 1 -->
                <div class="tier-card glass p-8 rounded-3xl border border-slate-800 flex flex-col">
                    <span class="text-sky-400 font-bold text-sm uppercase tracking-tighter mb-2">Starter</span>
                    <h3 class="text-2xl font-bold mb-4">Tier 1</h3>
                    <div class="text-4xl font-black mb-6">$1<span class="text-lg text-slate-500 font-normal">/mo</span></div>
                    <ul class="space-y-3 text-slate-400 text-sm flex-grow mb-8">
                        <li><i class="fas fa-check text-sky-400 mr-2"></i> 10 Active Inboxes</li>
                        <li><i class="fas fa-check text-sky-400 mr-2"></i> 24h Message Retention</li>
                        <li><i class="fas fa-check text-sky-400 mr-2"></i> Ad-Free Experience</li>
                    </ul>
                    <button onclick="openModal()" class="w-full py-3 rounded-xl border border-slate-700 hover:bg-slate-800 text-center font-bold transition">Purchase</button>
                </div>

                <!-- Tier 2 -->
                <div class="tier-card glass p-8 rounded-3xl border-2 border-sky-500/30 flex flex-col relative">
                    <div class="absolute -top-3 left-1/2 -translate-x-1/2 bg-sky-500 text-white text-[10px] px-3 py-1 rounded-full font-bold uppercase">Popular</div>
                    <span class="text-sky-400 font-bold text-sm uppercase tracking-tighter mb-2">Pro</span>
                    <h3 class="text-2xl font-bold mb-4">Tier 2</h3>
                    <div class="text-4xl font-black mb-6">$2<span class="text-lg text-slate-500 font-normal">/mo</span></div>
                    <ul class="space-y-3 text-slate-400 text-sm flex-grow mb-8">
                        <li><i class="fas fa-check text-sky-400 mr-2"></i> 50 Active Inboxes</li>
                        <li><i class="fas fa-check text-sky-400 mr-2"></i> 48h Message Retention</li>
                        <li><i class="fas fa-check text-sky-400 mr-2"></i> Custom Username</li>
                    </ul>
                    <button onclick="openModal()" class="w-full py-3 rounded-xl bg-sky-500 hover:bg-sky-600 text-center font-bold transition">Purchase</button>
                </div>

                <!-- Tier 3 -->
                <div class="tier-card glass p-8 rounded-3xl border border-slate-800 flex flex-col">
                    <span class="text-sky-400 font-bold text-sm uppercase tracking-tighter mb-2">Elite</span>
                    <h3 class="text-2xl font-bold mb-4">Tier 3</h3>
                    <div class="text-4xl font-black mb-6">$3<span class="text-lg text-slate-500 font-normal">/mo</span></div>
                    <ul class="space-y-3 text-slate-400 text-sm flex-grow mb-8">
                        <li><i class="fas fa-check text-sky-400 mr-2"></i> 200 Active Inboxes</li>
                        <li><i class="fas fa-check text-sky-400 mr-2"></i> 1 Week Retention</li>
                        <li><i class="fas fa-check text-sky-400 mr-2"></i> Private Domains</li>
                    </ul>
                    <button onclick="openModal()" class="w-full py-3 rounded-xl border border-slate-700 hover:bg-slate-800 text-center font-bold transition">Purchase</button>
                </div>

                <!-- Tier 4 -->
                <div class="tier-card glass p-8 rounded-3xl border border-indigo-500/30 flex flex-col">
                    <span class="text-indigo-400 font-bold text-sm uppercase tracking-tighter mb-2">Titan</span>
                    <h3 class="text-2xl font-bold mb-4">Tier 4</h3>
                    <div class="text-4xl font-black mb-6">$4<span class="text-lg text-slate-500 font-normal">/mo</span></div>
                    <ul class="space-y-3 text-slate-400 text-sm flex-grow mb-8">
                        <li><i class="fas fa-check text-indigo-400 mr-2"></i> Unlimited Inboxes</li>
                        <li><i class="fas fa-check text-indigo-400 mr-2"></i> Forever Retention</li>
                        <li><i class="fas fa-check text-indigo-400 mr-2"></i> API Access (Full)</li>
                        <li><i class="fas fa-check text-indigo-400 mr-2"></i> Priority Support</li>
                    </ul>
                    <button onclick="openModal()" class="w-full py-3 rounded-xl bg-indigo-600 hover:bg-indigo-700 text-center font-bold transition">Purchase</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Updates & Socials -->
    <section id="updates" class="py-20 max-w-4xl mx-auto px-6">
        <div class="flex flex-col md:flex-row gap-12">
            <!-- Updates -->
            <div class="md:w-2/3">
                <h2 class="text-2xl font-bold mb-8 flex items-center">
                    <i class="fas fa-bullhorn text-sky-400 mr-3"></i> Latest Updates
                </h2>
                <div class="space-y-6">
                    <div class="glass p-5 rounded-2xl">
                        <span class="text-[10px] text-sky-400 font-bold uppercase">Feb 14, 2026</span>
                        <h4 class="font-bold mt-1">TitanMail v2.0 Launched!</h4>
                        <p class="text-sm text-slate-400 mt-2">We've completely overhauled the UI and integrated the latest Mail.gw API for faster delivery.</p>
                    </div>
                    <div class="glass p-5 rounded-2xl">
                        <span class="text-[10px] text-slate-500 font-bold uppercase">Feb 10, 2026</span>
                        <h4 class="font-bold mt-1">New Domain Nodes</h4>
                        <p class="text-sm text-slate-400 mt-2">Added 5 new premium domains for Tier 3 and Tier 4 users to avoid blacklists.</p>
                    </div>
                </div>
            </div>
            
            <!-- Socials -->
            <div class="md:w-1/3">
                <h2 class="text-2xl font-bold mb-8">Community</h2>
                <div class="glass p-6 rounded-3xl text-center">
                    <i class="fab fa-discord text-5xl text-[#5865F2] mb-4"></i>
                    <h4 class="font-bold mb-2">Join our Discord</h4>
                    <p class="text-sm text-slate-400 mb-6">Get support, check status, and talk to the community.</p>
                    <button onclick="openModal()" class="block w-full py-3 bg-[#5865F2] hover:bg-[#4752c4] rounded-xl font-bold transition">Join Server</button>
                </div>
                <div class="mt-6 flex justify-center space-x-4">
                    <a href="#" class="w-10 h-10 glass rounded-full flex items-center justify-center hover:text-sky-400 transition"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="w-10 h-10 glass rounded-full flex items-center justify-center hover:text-sky-400 transition"><i class="fab fa-github"></i></a>
                    <a href="#" class="w-10 h-10 glass rounded-full flex items-center justify-center hover:text-sky-400 transition"><i class="fas fa-globe"></i></a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-12 border-t border-slate-800 text-center">
        <p class="text-slate-500 text-sm">&copy; 2026 TitanMail. All rights reserved. Powered by Mail.gw</p>
    </footer>

    <!-- Notification Container -->
    <div id="notif" class="fixed bottom-10 right-10 transform translate-y-20 opacity-0 transition-all duration-300 pointer-events-none">
        <div class="bg-emerald-500 text-white px-6 py-3 rounded-xl shadow-lg font-bold">
            Copied to clipboard!
        </div>
    </div>

    <script>
        const API_URL = 'https://api.mail.gw';
        let currentAccount = null;
        let token = null;
        let checkInterval = null;

        // Modal Functions
        function openModal() {
            const modal = document.getElementById('redirect-modal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            setTimeout(() => {
                modal.firstElementChild.classList.add('modal-active');
            }, 10);
        }

        function closeModal() {
            const modal = document.getElementById('redirect-modal');
            modal.firstElementChild.classList.remove('modal-active');
            setTimeout(() => {
                modal.classList.add('hidden');
                modal.classList.remove('flex');
            }, 200);
        }

        async function generateNewEmail() {
            try {
                const emailDisplay = document.getElementById('email-display');
                emailDisplay.value = "Creating...";
                
                const domainRes = await fetch(`${API_URL}/domains`);
                const domainData = await domainRes.json();
                const domain = domainData['hydra:member'][0].domain;

                const address = `${Math.random().toString(36).substring(2, 10)}@${domain}`;
                const password = Math.random().toString(36).substring(2, 15);

                const accountRes = await fetch(`${API_URL}/accounts`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ address, password })
                });

                if (!accountRes.ok) throw new Error('Failed to create account');
                currentAccount = await accountRes.json();

                const tokenRes = await fetch(`${API_URL}/token`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ address, password })
                });
                const tokenData = await tokenRes.json();
                token = tokenData.token;

                emailDisplay.value = address;
                
                document.getElementById('messages-list').innerHTML = `
                    <div class="p-8 text-center text-slate-500">
                        <i class="fas fa-spinner fa-spin text-4xl mb-3 opacity-20"></i>
                        <p>Listening for new messages...</p>
                    </div>`;

                if (checkInterval) clearInterval(checkInterval);
                checkInterval = setInterval(fetchMessages, 5000);

            } catch (err) {
                console.error(err);
                document.getElementById('email-display').value = "Error. Try again.";
            }
        }

        async function fetchMessages() {
            if (!token) return;

            try {
                const res = await fetch(`${API_URL}/messages`, {
                    headers: { 'Authorization': `Bearer ${token}` }
                });
                const data = await res.json();
                const messages = data['hydra:member'];

                const list = document.getElementById('messages-list');
                
                if (messages.length === 0) return;

                list.innerHTML = '';
                messages.forEach(msg => {
                    const item = document.createElement('div');
                    item.className = "p-4 hover:bg-slate-800/50 cursor-pointer transition flex items-center justify-between";
                    item.innerHTML = `
                        <div class="flex-grow">
                            <div class="font-bold text-slate-200">${msg.from.address}</div>
                            <div class="text-sm text-sky-400 font-semibold truncate">${msg.subject || '(No Subject)'}</div>
                        </div>
                        <div class="text-[10px] text-slate-500 whitespace-nowrap ml-4">
                            ${new Date(msg.createdAt).toLocaleTimeString()}
                        </div>
                    `;
                    item.onclick = () => alert("To view full content, upgrade to Tier 1!\nIn this demo, we're just listing headers.");
                    list.appendChild(item);
                });
            } catch (err) {
                console.error("Fetch error:", err);
            }
        }

        function copyEmail() {
            const el = document.getElementById('email-display');
            if (el.value === "Generating address..." || el.value.includes("Creating")) return;
            
            el.select();
            document.execCommand('copy');
            
            const notif = document.getElementById('notif');
            notif.classList.remove('translate-y-20', 'opacity-0');
            setTimeout(() => {
                notif.classList.add('translate-y-20', 'opacity-0');
            }, 2000);
        }

        window.onload = generateNewEmail;
    </script>
</body>
</html>
